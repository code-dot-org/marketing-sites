/**
 * This script enables subdomain tracking for Statsig by managing a stable ID.
 * The original script can be found at https://docs.statsig.com/guides/sidecar-experiments/advanced-configurations#persisting-stableid-across-subdomains
 * The modifications to this file include:
 * 1. Fixes a bug related to port numbers in the domain when setting cookies.
 * 2. Uses 'statsig_stable_id' as the cookie name instead of the default 'statsiguuid'.
 */
!function(){let t="STATSIG_LOCAL_STORAGE_STABLE_ID";function e(){if(crypto&&crypto.randomUUID)return crypto.randomUUID();let t=()=>Math.floor(65536*Math.random()).toString(16).padStart(4,"0");return`${t()}${t()}-${t()}-4${t().substring(1)}-${t()}-${t()}${t()}${t()}`}let i=null,n=localStorage.getItem(t)||null;if(document.cookie.match(/statsig_stable_id=([\w-]+);?/)&&([,i]=document.cookie.match(/statsig_stable_id=([\w-]+);?/)),i&&n&&i===n);else if(i&&n&&i!==n)localStorage.setItem(t,i);else if(i&&!n)localStorage.setItem(t,i);else{let o=e();localStorage.setItem(t,o),function t(i){let n=new Date;n.setMonth(n.getMonth()+12);let o=window.location.host.split(".");o.length>2&&o.shift();o[o.length-1]=o[o.length-1].split(":")[0];let s=`.${o.join(".")}`;document.cookie=`statsig_stable_id=${i||e()};Expires=${n};Domain=${s};Path=/`;}(o)}}();
